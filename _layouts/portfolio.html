---
layout: base
title: Portfolio
permalink: /portfolio/
---

<h1 class="portfolio-title">Portfolio</h1>

<!-- Filter Buttons -->
<div class="filters">
  <button class="filter-btn active" data-filter="*">All</button>
  <button class="filter-btn" data-filter="Rendering">Rendering</button>
  <button class="filter-btn" data-filter="Simulation">Simulation</button>
  <button class="filter-btn" data-filter="Robotics">Robotics</button>
  <button class="filter-btn" data-filter="Computer Vision">Computer Vision</button>
</div>

<!-- Masonry Grid -->
<div class="grid">
  {% assign items = site.portfolio | sort: "year" %}
  {% for item in items reversed %}

    {% assign is_video = item.type == "video" %}

    <div class="grid-item" data-category="{{ item.category }}">
      <a
        {% if is_video %}
          href="{{ item.source }}"
          class="glightbox"
          data-type="video"
        {% else %}
          href="{{ item.full }}"
          class="glightbox"
          data-type="image"
        {% endif %}
        data-title="{{ item.title }}"
      >
        <img src="{{ item.thumbnail }}" alt="{{ item.title }}">
      </a>
      <div class="caption">{{ item.title }}</div>
    </div>

  {% endfor %}
</div>

<!-- Libraries -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css" />
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>

<!-- Portfolio Logic -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  // GLightbox
  GLightbox({ selector: ".glightbox" });

  // Masonry
  const grid = document.querySelector(".grid");
  const msnry = new Masonry(grid, {
    itemSelector: ".grid-item",
    columnWidth: ".grid-item",
    percentPosition: true,
    gutter: 12
  });

  // Filtering
  const filterBtns = document.querySelectorAll(".filter-btn");

  filterBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      const filter = btn.dataset.filter;

      filterBtns.forEach(b => b.classList.remove("active"));
      btn.classList.add("active");

      document.querySelectorAll(".grid-item").forEach(item => {
        const category = item.dataset.category;

        if (filter === "*" || category === filter) {
          item.style.display = "block";
        } else {
          item.style.display = "none";
        }
      });

      msnry.layout();
    });
  });
});
</script>

<style>
.portfolio-title {
  margin-bottom: 16px;
  text-align: center;
}

.filters {
  text-align: center;
  margin-bottom: 20px;
}

.filter-btn {
  margin: 0 6px;
  padding: 6px 12px;
  border: none;
  cursor: pointer;
  background: #444;
  color: #fff;
  border-radius: 6px;
  font-size: 0.85em;
}

.filter-btn.active {
  background: #6c5ce7;
}

.grid {
  margin-top: 20px;
}

.grid-item {
  width: 180px; /* 썸네일 크기 줄임 */
  margin-bottom: 16px;
  display: inline-block;
  vertical-align: top;
}

.grid-item img {
  width: 180px;
  height: auto;
  display: block;
  border-radius: 8px;
  object-fit: cover;
  box-shadow: 0 0 6px rgba(0,0,0,0.15);
}

.caption {
  margin-top: 6px;
  text-align: center;
  font-size: 0.85em;
  color: #ccc;
}
</style>
