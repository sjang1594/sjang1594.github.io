---
layout: base
title: Portfolio
permalink: /portfolio/
---

<h1>Portfolio</h1>

<div class="filter-buttons">
  <button class="filter-btn active" data-filter="*">All</button>

  {% assign all_categories = "" %}
  {% for item in site.portfolio %}
    {% for cat in item.category %}
      {% unless all_categories contains cat %}
        {% assign all_categories = all_categories | append: cat | append: "," %}
      {% endunless %}
    {% endfor %}
  {% endfor %}

  {% assign unique_categories = all_categories | split: "," | uniq | sort %}
  {% for c in unique_categories %}
    {% if c != "" %}
      <button class="filter-btn" data-filter=".{{ c | downcase | replace: ' ', '-' }}">{{ c }}</button>
    {% endif %}
  {% endfor %}
</div>


<div class="masonry-grid">
  {% for item in site.portfolio %}

    {% comment %}
    ---------------------------------------------------------
    CATEGORY CLASS BUILDING (normalize: "Computer Vision" ‚Üí "computer-vision")
    ---------------------------------------------------------
    {% endcomment %}
    {% assign categories_class = "" %}
    {% for cat in item.category %}
      {% assign normalized = cat | downcase | replace: ' ', '-' %}
      {% assign categories_class = categories_class | append: normalized | append: " " %}
    {% endfor %}

    <div class="grid-item {{ categories_class }}">
      <div class="portfolio-card">

        {% comment %}
        ---------------------------------------------------------
        VIDEO TYPE: YOUTUBE THUMBNAIL AUTO-DETECTION
        ---------------------------------------------------------
        {% endcomment %}
        {% if item.type == "video" %}
          {% assign yt = item.embed %}
          {% if yt contains "youtube.com" %}
            {% assign video_id = yt | split: 'v=' | last | split: '&' | first %}
            {% assign auto_thumb = "https://img.youtube.com/vi/" | append: video_id | append: "/hqdefault.jpg" %}
          {% endif %}

          {% assign final_thumb = item.thumbnail | default: auto_thumb %}

          <a href="{{ item.embed }}" class="glightbox" data-type="video">
            <img src="{{ final_thumb }}" class="thumb" />
          </a>
        {% endif %}


        {% comment %}
        ---------------------------------------------------------
        IMAGE TYPE
        ---------------------------------------------------------
        {% endcomment %}
        {% if item.type == "image" %}
          <a href="{{ item.full }}" class="glightbox">
            <img src="{{ item.thumbnail }}" class="thumb" />
          </a>
        {% endif %}


        <div class="caption">
          <h3>{{ item.title }}</h3>

          <p class="categories">
            {% for c in item.category %}
              <span class="tag">{{ c }}</span>
            {% endfor %}
          </p>

          <p class="year">{{ item.year }}</p>
        </div>

      </div>
    </div>

  {% endfor %}
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/masonry-layout@4/dist/masonry.pkgd.min.js"></script>

<script>
  const lightbox = GLightbox({ selector: '.glightbox' });

  const grid = document.querySelector('.masonry-grid');
  const msnry = new Masonry(grid, {
    itemSelector: '.grid-item',
    columnWidth: '.grid-item',
    percentPosition: true,
    gutter: 20
  });

  const filterBtns = document.querySelectorAll(".filter-btn");
  filterBtns.forEach(btn => {
    btn.addEventListener("click", () => {
      const filter = btn.getAttribute("data-filter");

      document.querySelector(".filter-btn.active").classList.remove("active");
      btn.classList.add("active");

      document.querySelectorAll(".grid-item").forEach(item => {
        if (filter === "*" || item.classList.contains(filter.substring(1))) {
          item.style.display = "block";
        } else {
          item.style.display = "none";
        }
      });

      msnry.layout();
    });
  });
</script>

<style>
  .filter-buttons {
    margin-bottom: 20px;
  }

  .filter-btn {
    padding: 6px 14px;
    margin-right: 8px;
    border: none;
    border-radius: 6px;
    background: #444;
    color: white;
    cursor: pointer;
    font-size: 0.9em;
  }

  .filter-btn.active {
    background: #6c5ce7;
  }

  .masonry-grid {
    margin-top: 20px;
  }

  .grid-item {
    width: 180px;
    margin-bottom: 20px;
  }

  .portfolio-card img.thumb {
    width: 100%;
    border-radius: 8px;
    display: block;
  }

  .caption {
    margin-top: 6px;
    font-size: 0.85em;
  }

  .caption h3 {
    margin: 0;
    font-size: 1em;
  }

  /* üî• Category tags ÏÉâÏÉÅ = filter button(active)ÏôÄ ÎèôÏùº */
  .tag {
    background: #6c5ce7;
    color: white;
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.75em;
    margin-right: 4px;
    display: inline-block;
  }

  .year {
    color: #aaa;
    font-size: 0.75em;
    margin-top: 4px;
  }
</style>
