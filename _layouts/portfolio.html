---
layout: base
title: Portfolio
permalink: /portfolio/
---

<h1 class="page-title">Portfolio</h1>

<div id="portfolio-filters" class="filters">
  <button class="filter-btn active" data-filter="*">All</button>
  <button class="filter-btn" data-filter="Rendering">Rendering</button>
  <button class="filter-btn" data-filter="Simulation">Simulation</button>
  <button class="filter-btn" data-filter="Robotics">Robotics</button>
  <button class="filter-btn" data-filter="Computer Vision">Computer Vision</button>
</div>

<div class="masonry-grid">
  {% assign items = site.portfolio %}
  {% for item in items %}
    {% assign categories = item.category %}
    <div class="masonry-item"
        data-category="{{ categories | join: ',' }}">
      
      {% if item.type == "image" %}
        <a href="{{ item.full }}" class="glightbox">
          <img src="{{ item.thumbnail }}" alt="{{ item.title }}">
        </a>

      {% elsif item.type == "video" %}
        <video class="video-thumb" controls preload="metadata">
          <source src="{{ item.source }}" type="video/mp4">
        </video>
      {% endif %}

      <p class="caption">{{ item.title }}</p>
    </div>
  {% endfor %}
</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
<script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>

<script>
  const lightbox = GLightbox({ selector: ".glightbox" });

  // Filtering
  const buttons = document.querySelectorAll(".filter-btn");
  const items = document.querySelectorAll(".masonry-item");

  buttons.forEach(btn => {
    btn.addEventListener("click", () => {
      document.querySelector(".filter-btn.active").classList.remove("active");
      btn.classList.add("active");

      const filter = btn.dataset.filter;

      items.forEach(item => {
        const categories = item.dataset.category.split(",");

        if (filter === "*" || categories.includes(filter)) {
          item.style.display = "block";
        } else {
          item.style.display = "none";
        }
      });
    });
  });

  // Simple Masonry layout
  window.addEventListener("load", () => {
    const grid = document.querySelector('.masonry-grid');
    const msnry = new Masonry(grid, {
      itemSelector: '.masonry-item',
      columnWidth: 240,
      gutter: 16
    });
  });
</script>

<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>

<style>
.masonry-grid {
  margin-top: 30px;
}

.masonry-item {
  width: 240px;
  margin-bottom: 16px;
}

.masonry-item img,
.masonry-item video {
  width: 100%;
  border-radius: 10px;
  display: block;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

.video-thumb {
  background: #000;
}

.caption {
  margin-top: 8px;
  font-size: 0.9em;
  color: #ddd;
  text-align: center;
}

.filters {
  margin-bottom: 20px;
  text-align: center;
}

.filter-btn {
  background: #444;
  border: none;
  padding: 8px 14px;
  color: white;
  border-radius: 6px;
  margin: 0 6px;
  cursor: pointer;
}

.filter-btn.active {
  background: #9c6df9;
}
</style>
